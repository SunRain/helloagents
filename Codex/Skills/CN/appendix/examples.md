# 示例库

本文件存放输出规范的示例与标准措辞，供参考与复用。

核心强制规范与模板定义以 `../AGENTS.md` 的 G6 为准。

---

## 标准措辞参考

| 场景 | 标准措辞 |
|------|---------|
| EHRB 确认提示 | `⏸ 等待确认: 是否继续执行? (确认风险/取消)` |
| 评分追问结尾 | `请补充后回复，或输入"取消"终止当前命令。` |
| 部分失败-继续 | `[1] 继续 - 跳过失败任务，完成后续步骤` |
| 部分失败-终止 | `[2] 终止 - 停止执行，保留当前进度` |
| 阻断性失败-修复 | `[1] 修复后重试 - 尝试修复问题后重新测试` |
| 阻断性失败-跳过 | `[2] 跳过继续 - 风险自负，忽略此错误继续执行` |
| 阻断性失败-终止 | `[3] 终止执行 - 停止开发实施` |
| 上下文确认-继续 | `[1] 继续当前任务 - [当前任务简述]` |
| 上下文确认-新任务 | `[2] 开始新任务 - [新任务简述]` |
| 遗留方案提示 | `📦 遗留方案: 检测到 X 个未执行的方案包，是否需要迁移至历史记录?` |
| 无效输入提示 | `输入无效，请重新选择。` |
| 取消后建议 | `可重新开始或进行其他操作` |
| 推进模式评分前缀 | `[推进模式] 需求完整性评分 X/10 分，需补充信息后继续。` |

---

## Skill 异常示例（当前规范）

> 说明：以下示例用于展示异常/失败/取消路径的“模板填充方式”，状态行取值以当次执行为准（此处为示例值）。

### 开发实施：方案包不存在

```
❌【HelloAGENTS】- 执行错误
[状态: MODE=执行命令 | MODE_FULL_AUTH=false | MODE_PLANNING=false | MODE_EXECUTION=true | CREATED_PACKAGE=无 | CURRENT_PACKAGE=无]

错误: 未找到可执行的方案包
- 原因: plan/目录为空或不存在

────
📁 变更: 无

🔄 下一步: 请先使用 ~plan 命令创建方案，或进入方案设计阶段
```

### 开发实施：方案包不完整

```
❌【HelloAGENTS】- 执行错误
[状态: MODE=执行命令 | MODE_FULL_AUTH=false | MODE_PLANNING=false | MODE_EXECUTION=true | CREATED_PACKAGE=无 | CURRENT_PACKAGE=无]

错误: 方案包不完整
- 方案包: [方案包名称]
- 缺失文件: [why.md/how.md/task.md]

────
📁 变更: 无

🔄 下一步: 请补充缺失文件或重新创建方案包
```

### 开发实施：阻断性测试失败（需用户决策）

```
❌【HelloAGENTS】- 阻断性测试失败
[状态: MODE=执行命令 | MODE_FULL_AUTH=false | MODE_PLANNING=false | MODE_EXECUTION=true | CREATED_PACKAGE=无 | CURRENT_PACKAGE=plan/YYYYMMDDHHMM_<feature>/]

⛔ 核心功能测试失败，必须处理后才能继续:
- 失败测试: [测试名称]
- 错误信息: [错误摘要]

[1] 修复后重试 - 尝试修复问题后重新测试
[2] 跳过继续 - 风险自负，忽略此错误继续执行
[3] 终止执行 - 停止开发实施

────
🔄 下一步: 请输入序号选择
```

### 开发实施：知识库同步失败（需用户决策）

```
⚠️【HelloAGENTS】- 知识库同步
[状态: MODE=执行命令 | MODE_FULL_AUTH=false | MODE_PLANNING=false | MODE_EXECUTION=true | CREATED_PACKAGE=无 | CURRENT_PACKAGE=plan/YYYYMMDDHHMM_<feature>/]

知识库同步过程中部分操作失败:
- [失败项1]: [原因]
- [失败项2]: [原因]

[1] 重试 - 重新执行失败的同步操作
[2] 跳过 - 标记未同步，继续后续步骤
[3] 终止 - 停止执行，保留当前进度

────
🔄 下一步: 请输入序号选择
```

### 需求分析：用户取消

```
🚫【HelloAGENTS】- 已取消
[状态: MODE=交互确认 | MODE_FULL_AUTH=false | MODE_PLANNING=false | MODE_EXECUTION=false | CREATED_PACKAGE=无 | CURRENT_PACKAGE=无]

已取消: 需求分析
────
📁 变更: 无

🔄 下一步: 可重新描述需求或进行其他操作
```

---

## 原异常示例段落（历史示例）

> 说明：以下内容来自历史版本的异常示例段落，仅作为示例库保留；实际输出请遵循合并后的模板 A/B/C 与场景映射规则。

**EHRB安全警告:**
```
⚠️【HelloAGENTS】- 安全警告

检测到高风险操作: [风险类型]
- 影响范围: [描述]
- 风险等级: [EHRB级别]

────
⏸️ 等待确认: 是否继续执行? (确认风险/取消)
```

**风险升级(从简化模式升级):**
```
⚠️【HelloAGENTS】- 风险升级

检测到EHRB信号，已从[微调模式/轻量迭代]升级至[标准开发/完整研发]。
- 风险类型: [具体风险]

────
🔄 下一步: 将按[目标模式]流程继续处理
```

**用户取消操作:**
```
🚫【HelloAGENTS】- 已取消

已取消: [操作名称]
────
🔄 下一步: [后续建议，如有]
```

**流程终止(用户主动终止):**
```
🚫【HelloAGENTS】- 已终止

已终止: [阶段名称]
- 进度: [已完成/未完成的工作简述]

────
🔄 下一步: 可重新开始或进行其他操作
```

**路由/验证错误:**
```
❌【HelloAGENTS】- 执行错误

错误: [错误描述]
- 原因: [具体原因]

────
🔄 下一步: [修复建议]
```

**任务部分失败询问:**
```
⚠️【HelloAGENTS】- 部分失败

执行过程中部分任务失败:
- [X] [任务1]: [失败原因]
- [X] [任务2]: [失败原因]

[1] 继续 - 跳过失败任务，完成后续步骤
[2] 终止 - 停止执行，保留当前进度

────
🔄 下一步: 请输入序号选择
```

**无效输入再次询问:**
```
❓【HelloAGENTS】- [当前阶段]

输入无效，请重新选择。
[原选项列表]

────
🔄 下一步: 请输入有效选项
```

**评分不足追问(推进模式打破静默):**
```
❓【HelloAGENTS】- 需求分析

[推进模式] 需求完整性评分 X/10 分，需补充信息后继续。

1. [问题1]
2. [问题2]
...

请补充后回复，或输入"取消"终止当前命令。
```
